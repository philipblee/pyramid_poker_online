<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pyramid Poker Online</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Animated background -->
    <div class="bg-particles" id="bgParticles"></div>

    <!-- Sidebar Toggle Button -->
    <button class="sidebar-toggle" id="sidebarToggle" title="Toggle sidebar">
        <span id="toggleIcon">◀</span>
        <span id="toggleText">Hide</span>
    </button>


    <div class="header">
        <h1>🔺 Pyramid Poker Online</h1>
        <div class="version-tag" id="version-info" title="Click for build details">Version Loading...</div>
    </div>


        <div class="game-controls">
            <button id="newGame" class="btn btn-primary">New Game</button>
            <button id="newRound" class="btn btn-secondary">New Round</button>
            <button id="autoArrange" class="btn btn-secondary">Auto</button>
            <button id="sortByRank" class="btn btn-secondary">Rank</button>
            <button id="sortBySuit" class="btn btn-secondary">Suit</button>
            <button id="submitHand" class="btn btn-primary" disabled>Submit</button>
            <!-- Remove the config button - it will be accessible via New Game -->
        </div>

        <div class="status" id="status">
            Click "New Game" to configure a new game, or "New Round" to deal new hands!
        </div>

        <div class="game-area" id="gameArea">
            <div class="main-game">
                <div class="hand-section">
                    <div class="hand-label">
                        <span class="hand-icon">🎴</span>
                        Your Cards - Staging Area
                    </div>
                    <div class="hand-area staging-area" id="playerHand" data-hand="player"></div>
                </div>

                <div class="hand-section">
                    <div class="hand-label">
                        <span class="hand-icon">🏆</span>
                        Back Hand (5 cards) - Strongest
                        <span class="hand-strength" id="backStrength"></span>
                    </div>
                    <div class="hand-area" id="backHand" data-hand="back"></div>
                </div>

                <div class="hand-section">
                    <div class="hand-label">
                        <span class="hand-icon">🥈</span>
                        Middle Hand (5 cards) - Medium
                        <span class="hand-strength" id="middleStrength"></span>
                    </div>
                    <div class="hand-area" id="middleHand" data-hand="middle"></div>
                </div>

                <div class="hand-section">
                    <div class="hand-label">
                        <span class="hand-icon">🥉</span>
                        Front Hand (3 cards) - Weakest
                        <span class="hand-strength" id="frontStrength"></span>
                    </div>
                    <div class="hand-area" id="frontHand" data-hand="front"></div>
                </div>
            </div>

            <div class="sidebar" id="sidebar">
                <h3>Players</h3>
                <div class="player-list" id="playerList"></div>

                <div class="scoring" id="scoring" style="display: none;">
                    <h3>Current Scores</h3>
                    <div id="scoreList"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scoring Popup -->
    <div class="scoring-popup" id="scoringPopup">
        <div class="scoring-content">
            <button class="close-popup" onclick="game.closeScoringPopup()">×</button>
            <h2 style="text-align: center; margin-bottom: 30px; color: #ffd700;">🏆 Round Results</h2>

            <div class="player-hands-section">
                <h3 style="color: #ffd700; margin-bottom: 20px;">All Players' Hands</h3>
                <div id="allPlayerHands"></div>
            </div>

            <div class="round-robin-section">
                <h3 style="color: #ffd700; margin-bottom: 20px;">Round-Robin Scoring</h3>
                <div id="roundRobinResults"></div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button class="btn btn-primary" onclick="game.closeScoringPopup()">Continue</button>
            </div>
        </div>
        <script src="js/arrange/two-wild-strategy-one.js"></script></div>

    <!-- JavaScript Files -->

    <!-- Core dependencies first -->
    <script src="js/constants/hand-types.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/utilities/card-count.js"></script>
    <script src="js/utilities/convert-to-card-model.js"></script>
    <script src="js/hands/card-evaluation.js"></script>
    <script src="js/hands/scoring-utilities.js"></script>
    <script src="js/core/player.js"></script>
    <script src="js/core/deck.js"></script>
    <script src="js/utils/version.js"></script>
    <script src="js/core/game.js"></script>
    <script src="js/utilities/analysis.js"></script>
    <script src="js/utilities/card-parser.js"></script>


    <!-- Hand detection and analysis -->
    <script src="js/hand-analyzer.js"></script>
    <script src="js/utilities/count-valid-hands.js"></script>
    <script src="js/utilities/count-valid-hands-from-cards.js"></script>
    <script src="js/hands/hand-detector.js"></script>
    <script src="js/arrange/hand-sorter.js"></script>
    <script src="js/hands/card-utilities.js"></script>
    <script src="js/hands/arrangement-scorer.js"></script>
    <script src="js/hands/arrangement-validator.js"></script>
    <script src="js/arrange/two-wild-strategy-one.js"></script>
    <script src="js/arrange/two-wild-strategy-two.js"></script>

    <!-- Other game components -->
    <script src="js/tests/test-card-count.js"></script>
    <script src="js/ui/scoring-popup.js"></script>
    <script src="js/ui/display.js"></script>
    <script src="js/core/game-config.js"></script>
    <script src="js/ui/config.js"></script>
    <script src="js/test-functions.js"></script>

    <!-- TEST SUITE LAST -->
    <!-- Only load tests in development -->
    <script src="js/tests/test-cases.js"></script>
    <script src="js/tests/auto-arrange-tests.js"></script>
    <script src="js/hands/hand-detector-metadata-reporter.js"></script>

    <!-- load test cases -->
    <script src="js/tests/two-wild-test-cases.js"></script>
    <script src="js/tests/no-wild-test-cases.js"></script>
    <script src="js/tests/one-wild-test-cases.js"></script>
    <script src="js/tests/hand-detector-test-cases.js"></script>
    <script src="js/tests/test-hand-detector.js"></script>

    <!-- In your main pyramid-poker.html file -->
    <script src="js/arrange/find-best-setup-no-wild.js"></script>
    <script src="js/arrange/find-best-setup-one-wild.js"></script>
    <script src="js/arrange/find-best-setup-two-wild.js"></script>
    <script src="js/arrange/find-best-setup.js"></script>
    <script src="js/hands/auto-arrange.js"></script>


    <script src="js/tests/test-execution.js"></script>
    <script src="js/tests/create-from-cards-test-case.js"></script>
    <script src="js/utilities/analyze-cards.js"></script>
    <script src="js/arrange/one-wild-candidates.js"></script>
    <script src="js/tests/batch.js"></script>



</body>
</html>